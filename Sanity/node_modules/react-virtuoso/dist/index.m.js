import{systemToComponent as e}from"@virtuoso.dev/react-urx";import{system as t,stream as n,statefulStream as o,connect as r,pipe as i,scan as l,map as u,streamFromEmitter as a,filter as s,distinctUntilChanged as c,merge as f,duc as d,skip as m,mapTo as h,debounceTime as p,combineLatest as v,subscribe as g,publish as I,tup as C,throttleTime as S,withLatestFrom as x,getValue as T,statefulStreamFromEmitter as w,handleNext as y,noop as R,prop as b,tap as z,compose as k}from"@virtuoso.dev/urx";import{useRef as H,useCallback as B,useEffect as E,useLayoutEffect as L,memo as O,createElement as M}from"react";function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(n=i[o])>=0||(r[n]=e[n]);return r}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function W(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function N(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function G(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}var _,V,D="up",U=t(function(){var e=n(),t=o(0),a=n(),s=o(0),c=n(),f=o(0),d=o(0),m=n(),h=n(),p=o(!1);r(e,s);var v=o("down");return r(i(e,l(function(e,t){return{direction:t<e.prevScrollTop?D:"down",prevScrollTop:t}},{direction:"down",prevScrollTop:0}),u(function(e){return e.direction})),v),{scrollTop:e,viewportHeight:c,headerHeight:f,footerHeight:d,smoothScrollTargetReached:a,scrollTo:m,scrollBy:h,scrollDirection:v,statefulScrollTop:s,deviation:t,scrollingInProgress:p}},[],{singleton:!0}),j=t(function(){var e=o(!1);return{propsReady:e,didMount:a(i(e,s(function(e){return e}),c()))}},[],{singleton:!0}),K={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,totalHeight:0}},Y=t(function(e){var t=e[0],s=t.scrollTop,C=t.viewportHeight,S=t.headerHeight,x=t.footerHeight,T=o(!1),w=o(!0),y=n(),R=n(),b=n(),z=a(i(f(i(d(s),m(1),h(!0)),i(d(s),m(1),h(!1),p(100))),c()));r(i(d(s),u(function(e){return 0===e}),c()),w),r(w,R);var k=a(i(v(b,d(s),d(C),d(S),d(x)),l(function(e,t){var n=t[0],o=n.bottom,r=n.offsetBottom,i=t[1],l=t[2],u={viewportHeight:l,scrollTop:i,offsetBottom:r,totalHeight:o+r};return 0===r&&i+l-(o+t[3]+t[4])>-4?{atBottom:!0,state:u}:{atBottom:!1,notAtBottomBecause:u.totalHeight>e.state.totalHeight?"SIZE_INCREASED":0!==r?"NOT_SHOWING_LAST_ITEM":l<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":i<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:u}},K),c(function(e,t){return e&&e.atBottom===t.atBottom})));return r(i(k,u(function(e){return e.atBottom})),T),g(T,function(e){setTimeout(function(){return I(y,e)})}),{isScrolling:z,isAtTop:w,isAtBottom:T,atBottomState:k,atTopStateChange:R,atBottomStateChange:y,listStateListener:b}},C(U)),Z=t(function(e){var t=e[0].scrollTop,a=e[1].isScrolling,f=o(0),d=o(!1),m=n(),p=o(!1);return r(i(a,s(function(e){return!e}),h(0)),f),r(i(t,S(100),x(a),s(function(e){return!!e[1]}),l(function(e,t){return[e[1],t[0]]},[0,0]),u(function(e){return e[1]-e[0]})),f),r(i(f,x(p,d,m),s(function(e){return!!e[1]}),u(function(e){var t=e[0],n=e[1],o=e[2],r=e[3],i=n.enter;if(o){if((0,n.exit)(t,r))return!1}else if(i(t,r))return!0;return o}),c()),d),g(i(v(d,f,m),x(p)),function(e){var t=e[0],n=e[1];return t[0]&&n&&n.change&&n.change(t[1],t[2])}),{isSeeking:d,scrollSeekConfiguration:p,scrollVelocity:f,scrollSeekRangeChanged:m}},C(U,Y),{singleton:!0}),q={lvl:0};function $(e,t,n,o,r){return void 0===o&&(o=q),void 0===r&&(r=q),{k:e,v:t,lvl:n,l:o,r:r}}function J(e){return e===q}function Q(){return q}function X(e,t){if(J(e))return q;var n=e.k,o=e.l,r=e.r;if(t===n){if(J(o))return r;if(J(r))return o;var i=re(o);return ae(le(e,{k:i[0],v:i[1],l:ie(o)}))}return ae(le(e,t<n?{l:X(o,t)}:{r:X(r,t)}))}function ee(e,t,n){if(void 0===n&&(n="k"),J(e))return[-Infinity,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){var o=ee(e.r,t,n);return-Infinity===o[0]?[e.k,e.v]:o}return ee(e.l,t,n)}function te(e,t,n){return J(e)?$(t,n,1):t===e.k?le(e,{k:t,v:n}):function(e){return fe(de(e))}(le(e,t<e.k?{l:te(e.l,t,n)}:{r:te(e.r,t,n)}))}function ne(e,t,n){if(J(e))return[];var o=e.k,r=e.v,i=e.r,l=[];return o>t&&(l=l.concat(ne(e.l,t,n))),o>=t&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(ne(i,t,n))),l}function oe(e){return J(e)?[]:[].concat(oe(e.l),[{k:e.k,v:e.v}],oe(e.r))}function re(e){return J(e.r)?[e.k,e.v]:re(e.r)}function ie(e){return J(e.r)?e.l:ae(le(e,{r:ie(e.r)}))}function le(e,t){return $(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function ue(e){return J(e)||e.lvl>e.r.lvl}function ae(e){var t=e.l,n=e.r,o=e.lvl;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(ue(t))return de(le(e,{lvl:o-1}));if(J(t)||J(t.r))throw new Error("Unexpected empty nodes");return le(t.r,{l:le(t,{r:t.r.l}),r:le(e,{l:t.r.r,lvl:o-1}),lvl:o})}if(ue(e))return fe(le(e,{lvl:o-1}));if(J(n)||J(n.l))throw new Error("Unexpected empty nodes");var r=n.l,i=ue(r)?n.lvl-1:n.lvl;return le(r,{l:le(e,{r:r.l,lvl:o-1}),r:fe(le(n,{l:r.r,lvl:i})),lvl:r.lvl+1})}function se(e,t,n){return J(e)?[]:ce(ne(e,ee(e,t)[0],n),function(e){return{index:e.k,value:e.v}})}function ce(e,t){var n=e.length;if(0===n)return[];for(var o=t(e[0]),r=o.index,i=o.value,l=[],u=1;u<n;u++){var a=t(e[u]),s=a.index,c=a.value;l.push({start:r,end:s-1,value:i}),r=s,i=c}return l.push({start:r,end:Infinity,value:i}),l}function fe(e){var t=e.r,n=e.lvl;return J(t)||J(t.r)||t.lvl!==n||t.r.lvl!==n?e:le(t,{l:le(e,{r:t.l}),lvl:n+1})}function de(e){var t=e.l;return J(t)||t.lvl!==e.lvl?e:le(t,{r:le(e,{l:t.r})})}function me(e,t,n,o){void 0===o&&(o=0);for(var r=e.length-1;o<=r;){var i=Math.floor((o+r)/2),l=n(e[i],t);if(0===l)return i;if(-1===l){if(r-o<2)return i-1;r=i-1}else{if(r===o)return i;o=i+1}}throw new Error("Failed binary finding record in array - "+e.join(",")+", searched for "+t)}function he(e,t,n){return e[me(e,t,n)]}function pe(e,t){return e.getBoundingClientRect()[t]}!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(V||(V={}));var ve=((_={})[V.DEBUG]="debug",_[V.INFO]="log",_[V.WARN]="warn",_[V.ERROR]="error",_),ge=t(function(){var e=o(V.ERROR);return{log:o(function(t,n,o){var r;void 0===o&&(o=V.INFO),o>=(null!=(r=globalThis.VIRTUOSO_LOG_LEVEL)?r:T(e))&&console[ve[o]]("%creact-virutoso: %c%s %o","color: #0253b3; font-weight: bold","color: black",t,n)}),logLevel:e}},[],{singleton:!0});function Ie(e){var t=e.size,n=e.startIndex,o=e.endIndex;return function(e){return e.start===n&&(e.end===o||Infinity===e.end)&&e.value===t}}function Ce(e,t){var n=e.index;return t===n?0:t<n?-1:1}function Se(e,t){var n=e.offset;return t===n?0:t<n?-1:1}function xe(e){return{index:e.index,value:e}}function Te(e,t){var n=t[0],o=t[1];n.length>0&&(0,t[2])("received item sizes",n,V.DEBUG);var r=e.sizeTree,i=e.offsetTree,l=r,u=0;if(o.length>0&&J(r)&&2===n.length){var a=n[0].size,s=n[1].size;l=o.reduce(function(e,t){return te(te(e,t,a),t+1,s)},l)}else{var c=function(e,t){for(var n,o=J(e)?0:Infinity,r=W(t);!(n=r()).done;){var i=n.value,l=i.size,u=i.startIndex,a=i.endIndex;if(o=Math.min(o,u),J(e))e=te(e,0,l);else{var s=se(e,u-1,a+1);if(!s.some(Ie(i))){for(var c,f=!1,d=!1,m=W(s);!(c=m()).done;){var h=c.value,p=h.start,v=h.end,g=h.value;f?(a>=p||l===g)&&(e=X(e,p)):(d=g!==l,f=!0),v>a&&a>=p&&g!==l&&(e=te(e,a+1,g))}d&&(e=te(e,u,l))}}}return[e,o]}(l,n);l=c[0],u=c[1]}if(l===r)return e;var f=0,d=0,m=0,h=0;if(0!==u){h=me(i,u-1,Ce),m=i[h].offset;var p=ee(l,u-1);f=p[0],d=p[1],i.length&&i[h].size===ee(l,u)[1]&&(h-=1),i=i.slice(0,h+1)}else i=[];for(var v,g=W(se(l,u,Infinity));!(v=g()).done;){var I=v.value,C=I.start,S=I.value,x=(C-f)*d+m;i.push({offset:x,size:S,index:C}),f=C,m=x,d=S}return{sizeTree:l,offsetTree:i,groupOffsetTree:o.reduce(function(e,t){return te(e,t,we(t,i))},Q()),lastIndex:f,lastOffset:m,lastSize:d,groupIndices:o}}function we(e,t){if(0===t.length)return 0;var n=he(t,e,Ce);return n.size*(e-n.index)+n.offset}function ye(e,t){if(!Re(t))return e;for(var n=0;t.groupIndices[n]<=e+n;)n++;return e+n}function Re(e){return!J(e.groupOffsetTree)}var be={offsetHeight:"height",offsetWidth:"width"},ze=t(function(e){var t=e[0].log,f=n(),d=n(),m=n(),h=o(0),p=o([]),v=o(void 0),I=o(void 0),C=o(function(e,t){return pe(e,be[t])}),S=o(void 0),y={offsetTree:[],sizeTree:Q(),groupOffsetTree:Q(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},R=w(i(f,x(p,t),l(Te,y),c()),y);r(i(p,s(function(e){return e.length>0}),x(R),u(function(e){var t=e[0],n=e[1],o=t.reduce(function(e,t,o){return te(e,t,we(t,n.offsetTree)||o)},Q());return P({},n,{groupIndices:t,groupOffsetTree:o})})),R),r(i(d,x(R),s(function(e){return e[0]<e[1].lastIndex}),u(function(e){var t=e[1];return[{startIndex:e[0],endIndex:t.lastIndex,size:t.lastSize}]})),f),r(v,I);var b=w(i(v,u(function(e){return void 0===e})),!0);r(i(I,s(function(e){return void 0!==e&&J(T(R).sizeTree)}),u(function(e){return[{startIndex:0,endIndex:0,size:e}]})),f);var z=a(i(f,x(R),l(function(e,t){var n=t[1];return{changed:n!==e.sizes,sizes:n}},{changed:!1,sizes:y}),u(function(e){return e.changed})));r(i(h,l(function(e,t){return{diff:e.prev-t,prev:t}},{diff:0,prev:0}),u(function(e){return e.diff}),s(function(e){return e>0})),m),g(i(h,x(t)),function(e){e[0]<0&&(0,e[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:h},V.ERROR)});var k=a(m);return r(i(m,x(R),u(function(e){var t=e[0],n=e[1];if(n.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return oe(n.sizeTree).reduce(function(e,n){var o=n.k,r=n.v;return{ranges:[].concat(e.ranges,[{startIndex:e.prevIndex,endIndex:o+t-1,size:e.prevSize}]),prevIndex:o+t,prevSize:r}},{ranges:[],prevIndex:0,prevSize:n.lastSize}).ranges})),f),{data:S,totalCount:d,sizeRanges:f,groupIndices:p,defaultItemSize:I,fixedItemSize:v,unshiftWith:m,beforeUnshiftWith:k,firstItemIndex:h,sizes:R,listRefresh:z,trackItemSizes:b,itemSize:C}},C(ge),{singleton:!0}),ke="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function He(e){var t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&ke||(t.behavior="auto"),t.offset||(t.offset=0),t}var Be=t(function(e){var t=e[0],l=t.sizes,a=t.totalCount,s=t.listRefresh,c=e[1],f=c.scrollingInProgress,d=c.viewportHeight,m=c.scrollTo,h=c.smoothScrollTargetReached,p=c.headerHeight,v=c.footerHeight,C=n(),S=o(0),T=null,w=null,R=null,b=function(){T&&(T(),T=null),R&&(R(),R=null),w&&(clearTimeout(w),w=null),I(f,!1)};return r(i(C,x(l,d,a,S,p,v),u(function(e){var t=e[0],n=e[1],o=e[2],r=e[3],l=e[4],u=e[5],a=e[6],c=He(t),d=c.align,m=c.behavior,p=c.offset,v=r-1,S=c.index;S=ye(S,n);var x=we(S=Math.max(0,S,Math.min(v,S)),n.offsetTree)+u;"end"===d?(x=Math.round(x-o+ee(n.sizeTree,S)[1]),S===v&&(x+=a)):"center"===d?x=Math.round(x-o/2+ee(n.sizeTree,S)[1]/2):x-=l,p&&(x+=p);var z,k,H=function(e){b(),e&&I(C,t)};if(b(),"smooth"===m){var B=!1;R=g(s,function(e){B=B||e}),T=y(h,function(){H(B)})}else T=y(i(s,function(e){return function(t){z=z||t,k||(k=setTimeout(function(){k=void 0,e(z)},0))}}),H);return w=setTimeout(function(){b()},1200),I(f,!0),{top:x,behavior:m}})),m),{scrollToIndex:C,topListHeight:S}},C(ze,U),{singleton:!0}),Ee=function(e,t,n){return"number"==typeof e?n===D&&"top"===t||"down"===n&&"bottom"===t?e:0:n===D?"top"===t?e.main:e.reverse:"bottom"===t?e.main:e.reverse},Le=t(function(e){var t=e[0],r=t.scrollTop,l=t.viewportHeight,a=t.deviation,f=t.headerHeight,m=n(),h=o(0),p=o(0);return{listBoundary:m,overscan:p,topListHeight:h,visibleRange:w(i(v(d(r),d(l),d(f),d(m,N),d(p),d(h),d(a)),u(function(e){var t=e[0],n=e[1],o=e[2],r=e[3],i=r[0],l=r[1],u=e[4],a=e[5],s=e[6],c=t-s,f=Math.max(o-c,0),d="none";return i-=s,l+=o,(i+=o)>t+a&&(d=D),(l-=s)<t-f+n&&(d="down"),"none"!==d?[Math.max(c-o-Ee(u,"top",d),0),c-f+n+Ee(u,"bottom",d)]:null}),s(function(e){return null!=e}),c(N)),[0,0])}},C(U),{singleton:!0}),Oe=t(function(e){var t=e[0],l=t.scrollTop,a=t.scrollTo,s=n(),c=n(),f=n(),d=o(!1);return r(i(v(c,s),u(function(e){return Math.max(0,e[0]-e[1].offsetTop)})),l),r(i(a,x(s),u(function(e){var t=e[0];return P({},t,{top:t.top+e[1].offsetTop})})),f),{useWindowScroll:d,windowScrollTop:c,windowViewportRect:s,windowScrollTo:f}},C(U)),Me={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Pe={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Fe=Math.ceil,Ae=Math.floor,We=Math.min,Ne=Math.max;function Ge(e){return Fe(e)-e<.03?Fe(e):Ae(e)}function _e(e,t){return Array.from({length:t-e+1}).map(function(t,n){return{index:n+e}})}var Ve=t(function(e){var t=e[0],l=t.overscan,f=t.visibleRange,m=t.listBoundary,p=e[1],g=p.scrollTop,I=p.viewportHeight,C=p.scrollBy,S=p.scrollTo,T=p.smoothScrollTargetReached,y=e[2],R=e[3],b=e[4],z=b.propsReady,k=b.didMount,H=e[5],B=H.windowViewportRect,E=H.windowScrollTo,L=H.useWindowScroll,O=H.windowScrollTop,M=o(0),F=o(0),A=o(Me),W=o({height:0,width:0}),_=o({height:0,width:0}),V=n();r(i(k,x(F),s(function(e){return 0!==e[1]}),u(function(e){return{items:_e(0,e[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}})),A),r(i(v(d(M),f,d(_,function(e,t){return e&&e.width===t.width&&e.height===t.height})),x(W),u(function(e){var t=e[0],n=t[0],o=t[1],r=o[0],i=o[1],l=t[2],u=e[1],a=l.height,s=l.width,c=u.width;if(0===n||0===c)return Me;if(0===s)return Pe;var f=Ge(c/s),d=f*Ae(r/a),m=f*Fe(i/a)-1;m=We(n-1,m);var h=_e(d=We(m,Ne(0,d)),m),p=De(u,l,h),v=p.top,g=p.bottom;return{items:h,offsetTop:v,offsetBottom:Fe(n/f)*a-g,top:v,bottom:g,itemHeight:a,itemWidth:s}})),A),r(i(W,u(function(e){return e.height})),I),r(i(v(W,_,A),u(function(e){var t=De(e[0],e[1],e[2].items);return[t.top,t.bottom]}),c(N)),m),r(i(m,x(A),u(function(e){return{bottom:e[0][1],offsetBottom:e[1].offsetBottom}})),y.listStateListener);var D=a(i(d(A),s(function(e){return e.items.length>0}),x(M),s(function(e){var t=e[0].items;return t[t.length-1].index===e[1]-1}),u(function(e){return e[1]-1}),c())),U=a(i(d(A),s(function(e){var t=e.items;return t.length>0&&0===t[0].index}),h(0),c())),j=a(i(d(A),s(function(e){return e.items.length>0}),u(function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}}),c(G)));r(j,R.scrollSeekRangeChanged),r(i(V,x(W,_,M),u(function(e){var t=e[1],n=e[2],o=e[3],r=He(e[0]),i=r.align,l=r.behavior,u=r.offset,a=r.index,s=Ue(t,n,a=Math.max(0,a,Math.min(o-1,a)));return"end"===i?s=Math.round(s-t.height+n.height):"center"===i&&(s=Math.round(s-t.height/2+n.height/2)),u&&(s+=u),{top:s,behavior:l}})),S);var K=w(i(A,u(function(e){return e.offsetBottom+e.bottom})),0);return r(i(B,u(function(e){return{width:e.visibleWidth,height:e.visibleHeight}})),W),P({totalCount:M,viewportDimensions:W,itemDimensions:_,scrollTop:g,overscan:l,scrollBy:C,scrollTo:S,scrollToIndex:V,smoothScrollTargetReached:T,windowViewportRect:B,windowScrollTo:E,useWindowScroll:L,windowScrollTop:O,initialItemCount:F},R,{gridState:A,totalListHeight:K},y,{startReached:U,endReached:D,rangeChanged:j,propsReady:z})},C(Le,U,Y,Z,j,Oe));function De(e,t,n){var o=t.height;return void 0===o||0===n.length?{top:0,bottom:0}:{top:Ue(e,t,n[0].index),bottom:Ue(e,t,n[n.length-1].index)+o}}function Ue(e,t,n){var o=Ge(e.width/t.width);return Ae(n/o)*t.height}function je(e,t){void 0===t&&(t=!0);var n=H(null),o=function(e){};if("undefined"!=typeof ResizeObserver){var r=new ResizeObserver(function(t){var n=t[0].target;null!==n.offsetParent&&e(n)});o=function(e){e&&t?(r.observe(e),n.current=e):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Ke(e,t){return void 0===t&&(t=!0),je(e,t).callbackRef}function Ye(e){var t=H(null),n=B(function(n){if(null!==n){var o=n.getBoundingClientRect(),r=window.innerHeight-Math.max(0,o.top),i=o.top+window.pageYOffset;t.current={offsetTop:i,visibleHeight:r,visibleWidth:o.width},e(t.current)}},[e]),o=je(n),r=o.callbackRef,i=o.ref,l=B(function(){n(i.current)},[n,i]);return E(function(){return window.addEventListener("scroll",l),window.addEventListener("resize",l),function(){window.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[l]),r}var Ze="undefined"!=typeof document?L:E;function qe(e,t,n,o){void 0===o&&(o=R);var r=H(null),i=H(null),l=H(null),u=B(function(n){var o=n.target,r=o===window||o===document?window.pageYOffset||document.documentElement.scrollTop:o.scrollTop;e(Math.max(r,0)),null!==i.current&&(r===i.current||r<=0||r===o.scrollHeight-pe(o,"height"))&&(i.current=null,t(!0),l.current&&(clearTimeout(l.current),l.current=null))},[e,t]);return E(function(){var e=r.current;return o(r.current),u({target:e}),e.addEventListener("scroll",u,{passive:!0}),function(){o(null),e.removeEventListener("scroll",u)}},[r,u,n,o]),{scrollerRef:r,scrollByCallback:function(e){null===i.current&&r.current.scrollBy(e)},scrollToCallback:function(n){var o=r.current;if(o){var u,a,s,c="smooth"===n.behavior;if(o===window?(a=Math.max(pe(document.documentElement,"height"),document.documentElement.scrollHeight),u=window.innerHeight,s=document.documentElement.scrollTop):(a=o.scrollHeight,u=pe(o,"height"),s=o.scrollTop),Math.abs(u-a)<1||n.top===s)return e(s),void(c&&t(!0));n.top=Math.max(Math.min(a-u,n.top),0),c?(i.current=n.top,l.current&&clearTimeout(l.current),l.current=setTimeout(function(){l.current=null,i.current=null,t(!0)},1e3)):i.current=null,o.scrollTo(n)}}}}var $e=t(function(e){var t=e[0],n=t.sizes,l=t.listRefresh,u=t.defaultItemSize,a=e[1].scrollTop,c=e[2].scrollToIndex,f=e[3].didMount,d=o(!0),m=o(0);return r(i(f,x(m),s(function(e){return 0!==e[1]}),h(!1)),d),g(i(v(l,f),x(d,n,u),s(function(e){var t=e[1],n=e[3];return e[0][1]&&(!J(e[2].sizeTree)||void 0!==n)&&!t}),x(m)),function(e){var t=e[1];y(a,function(){I(d,!0)}),setTimeout(function(){I(c,t)})}),{scrolledToInitialItem:d,initialTopMostItemIndex:m}},C(ze,U,Be,j),{singleton:!0});function Je(e){return!!e&&("smooth"===e?"smooth":"auto")}var Qe=t(function(e){var t=e[0],n=t.totalCount,r=t.listRefresh,a=e[1],c=a.isAtBottom,f=a.atBottomState,h=e[2].scrollToIndex,p=e[3].scrolledToInitialItem,C=e[4],S=C.propsReady,T=C.didMount,w=o(!1),R=null;function b(e,t){I(h,{index:e-1,align:"end",behavior:t})}return g(i(v(i(d(n),m(1)),T),x(d(w),c,p),u(function(e){var t=e[0],n=t[0],o=t[1]&&e[3],r="auto";return o&&(r=function(e,t){return"function"==typeof e?Je(e(t)):t&&Je(e)}(e[1],e[2]),o=o&&!!r),{totalCount:n,shouldFollow:o,followOutputBehavior:r}}),s(function(e){return e.shouldFollow})),function(e){var t=e.totalCount,n=e.followOutputBehavior;R&&(R(),R=null),R=y(r,function(){b(t,n),R=null})}),g(i(v(d(w),n,S),s(function(e){return e[0]&&e[2]}),l(function(e,t){var n=t[1];return{refreshed:e.value===n,value:n}},{refreshed:!1,value:0}),s(function(e){return e.refreshed}),x(w,n)),function(e){var t=e[1],n=e[2],o=y(f,function(e){!t||e.atBottom||"SIZE_INCREASED"!==e.notAtBottomBecause||R||b(n,"auto")});setTimeout(o,100)}),g(i(v(d(w),f),x(n)),function(e){var t=e[0],n=t[1];t[0]&&!n.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===n.notAtBottomBecause&&b(e[1],"auto")}),{followOutput:w}},C(ze,Y,Be,$e,j));function Xe(e){return e.reduce(function(e,t){return e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e},{totalCount:0,groupIndices:[]})}var et=t(function(e){var t=e[0],o=t.totalCount,l=t.groupIndices,f=t.sizes,d=e[1],m=d.scrollTop,h=d.headerHeight,p=n(),g=n(),I=a(i(p,u(Xe)));return r(i(I,u(b("totalCount"))),o),r(i(I,u(b("groupIndices"))),l),r(i(v(m,f,h),s(function(e){return Re(e[1])}),u(function(e){return ee(e[1].groupOffsetTree,Math.max(e[0]-e[2],0),"v")[0]}),c(),u(function(e){return[e]})),g),{groupCounts:p,topItemsIndexes:g}},C(ze,U)),tt={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0};function nt(e,t,n){if(0===e.length)return[];if(!Re(t))return e.map(function(e){return P({},e,{index:e.index+n,originalIndex:e.index})});for(var o,r=[],i=se(t.groupOffsetTree,e[0].index,e[e.length-1].index),l=void 0,u=0,a=W(e);!(o=a()).done;){var s=o.value;(!l||l.end<s.index)&&(l=i.shift(),u=t.groupIndices.indexOf(l.start)),r.push(P({},s.index===l.start?{type:"group",index:u}:{index:s.index-(u+1)+n,groupIndex:u},{size:s.size,offset:s.offset,originalIndex:s.index,data:s.data}))}return r}function ot(e,t,n,o,r){var i=0,l=0;if(e.length>0){i=e[0].offset;var u=e[e.length-1];l=u.offset+u.size}var a=i,s=o.lastOffset+(n-o.lastIndex)*o.lastSize-l;return{items:nt(e,o,r),topItems:nt(t,o,r),topListHeight:t.reduce(function(e,t){return t.size+e},0),offsetTop:i,offsetBottom:s,top:a,bottom:l,totalCount:n}}var rt,it,lt,ut=t(function(e){var t=e[0],l=t.sizes,f=t.totalCount,m=t.data,h=t.firstItemIndex,p=e[1],g=e[2],I=g.visibleRange,C=g.listBoundary,T=g.topListHeight,y=e[3],R=y.scrolledToInitialItem,k=y.initialTopMostItemIndex,H=e[4].topListHeight,B=e[5],E=e[6].didMount,L=o([]),O=n();r(p.topItemsIndexes,L);var M=w(i(v(E,d(I),d(f),d(l),d(k),R,d(L),d(h),m),s(function(e){return e[0]}),u(function(e){var t=e[1],n=t[0],o=t[1],r=e[2],i=e[4],l=e[5],u=e[6],a=e[7],s=e[8],c=e[3],f=c.sizeTree,d=c.offsetTree;if(0===r||0===n&&0===o)return tt;if(J(f))return ot(function(e,t,n){if(Re(t)){var o=ye(e,t);return[{index:ee(t.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}(i,c,s),[],r,c,a);var m=[];if(u.length>0)for(var h,p=u[0],v=u[u.length-1],g=0,I=W(se(f,p,v));!(h=I()).done;)for(var C=h.value,S=C.value,x=Math.max(C.start,p),T=Math.min(C.end,v),w=x;w<=T;w++)m.push({index:w,size:S,offset:g,data:s&&s[w]}),g+=S;if(!l)return ot([],m,r,c,a);var y=u.length>0?u[u.length-1]+1:0,R=function(e,t,n,o){return void 0===o&&(o=0),o>0&&(t=Math.max(t,he(e,o,Ce).offset)),ce((i=n,u=me(r=e,t,l=Se),a=me(r,i,l,u),r.slice(u,a+1)),xe);var r,i,l,u,a}(d,n,o,y);if(0===R.length)return null;var b=r-1;return ot(z([],function(e){for(var t,r=W(R);!(t=r()).done;){var i=t.value,l=i.value,u=l.offset,a=i.start,c=l.size;l.offset<n&&(u+=((a+=Math.floor((n-l.offset)/c))-i.start)*c),a<y&&(u+=(y-a)*c,a=y);for(var f=Math.min(i.end,b),d=a;d<=f&&!(u>=o);d++)e.push({index:d,size:c,offset:u,data:s&&s[d]}),u+=c}}),m,r,c,a)}),s(function(e){return null!==e}),c()),tt);return r(i(m,s(function(e){return void 0!==e}),u(function(e){return e.length})),f),r(i(M,u(b("topListHeight"))),H),r(H,T),r(M,B.listStateListener),r(i(M,u(function(e){return[e.top,e.bottom]})),C),r(i(M,u(function(e){return e.items})),O),P({listState:M,topItemsIndexes:L,endReached:a(i(M,s(function(e){return e.items.length>0}),x(f,m),s(function(e){var t=e[0].items;return t[t.length-1].originalIndex===e[1]-1}),u(function(e){return[e[1]-1,e[2]]}),c(N),u(function(e){return e[0]}))),startReached:a(i(M,S(200),s(function(e){var t=e.items;return t.length>0&&t[0].originalIndex===e.topItems.length}),u(function(e){return e.items[0].index}),c())),rangeChanged:a(i(M,s(function(e){return e.items.length>0}),u(function(e){var t=e.items;return{startIndex:t[0].index,endIndex:t[t.length-1].index}}),c(G))),itemsRendered:O},B)},C(ze,et,Le,$e,Be,Y,j),{singleton:!0}),at=t(function(e){var t=e[0],n=t.sizes,l=t.firstItemIndex,a=t.data,c=e[1].listState,f=e[2].didMount,d=o(0);return r(i(f,x(d),s(function(e){return 0!==e[1]}),x(n,l,a),u(function(e){var t=e[0][1],n=e[1],o=e[2],r=e[3],i=void 0===r?[]:r,l=0;if(n.groupIndices.length>0)for(var u,a=W(n.groupIndices);!((u=a()).done||u.value-l>=t);)l++;var s=t+l;return ot(Array.from({length:s}).map(function(e,t){return{index:t,size:0,offset:0,data:i[t]}}),[],s,n,o)})),c),{initialItemCount:d}},C(ze,ut,j),{singleton:!0}),st=t(function(e){var t=e[0].topItemsIndexes,n=o(0);return r(i(n,s(function(e){return e>0}),u(function(e){return Array.from({length:e}).map(function(e,t){return t})})),t),{topItemCount:n}},C(ut)),ct=t(function(e){var t=e[0],o=t.footerHeight,l=t.headerHeight,a=e[1].listState,s=n(),c=w(i(v(o,l,a),u(function(e){var t=e[2];return e[0]+e[1]+t.offsetBottom+t.bottom})),0);return r(d(c),s),{totalListHeight:c,totalListHeightChanged:s}},C(U,ut),{singleton:!0}),ft=t(function(e){var t=e[0],n=t.scrollBy,o=t.scrollTop,c=t.scrollDirection,f=t.deviation,d=t.scrollingInProgress,m=e[1].isScrolling,h=e[3],p=h.beforeUnshiftWith,C=h.sizes,T=a(i(e[2].listState,l(function(e,t){var n=e[1],o=t.items,r=0;if(n.length>0&&o.length>0){var i=o[0].originalIndex,l=n[0].originalIndex;if(0!==i||0!==l)if(i===l)r=o[0].size-n[0].size;else for(var u=function(e){var t=o[e],i=n.find(function(e){return e.originalIndex===t.originalIndex});return i?t.offset!==i.offset?(r=t.offset-i.offset,"break"):void 0:"continue"},a=o.length-1;a>=0;a--){var s=u(a);if("continue"!==s&&"break"===s)break}}return[r,o]},[0,[]]),s(function(e){return 0!==e[0]}),x(o,c,d),s(function(e){return!e[3]&&0!==e[1]&&e[2]===D}),u(function(e){return e[0][0]})));return r(i(T,x(f),u(function(e){return e[1]-e[0]})),f),g(i(v(w(m,!1),f),s(function(e){return!e[0]&&0!==e[1]}),u(function(e){return e[1]}),S(1)),function(e){e>0?(I(n,{top:-e,behavior:"auto"}),I(f,0)):(I(f,0),I(n,{top:-e,behavior:"auto"}))}),r(i(p,x(C),u(function(e){return e[0]*e[1].lastSize})),T),{deviation:f}},C(U,Y,ut,ze)),dt=t(function(e){var t=e[0].totalListHeight,n=e[1].didMount,r=e[2].scrollTo,l=o(0);return g(i(n,x(l),s(function(e){return 0!==e[1]}),u(function(e){return{top:e[1]}})),function(e){y(i(t,s(function(e){return 0!==e})),function(){setTimeout(function(){I(r,e)})})}),{initialScrollTop:l}},C(ct,j,U),{singleton:!0}),mt=t(function(e){var t=e[0].viewportHeight,n=e[1].totalListHeight,r=o(!1);return{alignToBottom:r,paddingTopAddition:w(i(v(r,t,n),s(function(e){return e[0]}),u(function(e){return Math.max(0,e[1]-e[2])}),c()),0)}},C(U,ct),{singleton:!0}),ht=t(function(e){return P({},e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7])},C(Le,at,j,Z,ct,dt,mt,Oe)),pt=t(function(e){var t=e[0],n=t.totalCount,o=t.sizeRanges,l=t.fixedItemSize,a=t.defaultItemSize,s=t.trackItemSizes,c=t.itemSize,f=t.data,d=t.firstItemIndex,m=t.groupIndices,h=e[1],p=h.initialTopMostItemIndex,v=h.scrolledToInitialItem,g=e[2],I=e[3],C=e[4],S=C.listState,x=C.topItemsIndexes,T=F(C,["listState","topItemsIndexes"]),w=e[5].scrollToIndex,y=e[7].topItemCount,R=e[8].groupCounts,z=e[9],k=e[10];return r(T.rangeChanged,z.scrollSeekRangeChanged),r(i(z.windowViewportRect,u(b("visibleHeight"))),g.viewportHeight),P({totalCount:n,data:f,firstItemIndex:d,sizeRanges:o,initialTopMostItemIndex:p,scrolledToInitialItem:v,topItemsIndexes:x,topItemCount:y,groupCounts:R,fixedItemHeight:l,defaultItemHeight:a},I,{listState:S,scrollToIndex:w,trackItemSizes:s,itemSize:c,groupIndices:m},T,z,g,k)},C(ze,$e,U,Qe,ut,Be,ft,st,et,ht,ge)),vt=(rt=function(){if("undefined"==typeof document)return"sticky";var e=document.createElement("div");return e.style.position="-webkit-sticky","-webkit-sticky"===e.style.position?"-webkit-sticky":"sticky"},lt=!1,function(){return lt||(lt=!0,it=rt()),it});function gt(e){return e}var It=t(function(){var e=o(function(e){return"Item "+e}),t=o(function(e){return"Group "+e}),n=o({}),r=o(gt),l=o("div"),a=o(R),s=function(e,t){return void 0===t&&(t=null),w(i(n,u(function(t){return t[e]}),c()),t)};return{itemContent:e,groupContent:t,components:n,computeItemKey:r,headerFooterTag:l,scrollerRef:a,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}});function Ct(e,t){var o=n();return g(o,function(){return console.warn("react-virtuoso: You are using a deprecated property. "+t,"color: red;","color: inherit;","color: blue;")}),r(o,e),o}var St=t(function(e){var t=e[0],o=e[1],l={item:Ct(o.itemContent,"Rename the %citem%c prop to %citemContent."),group:Ct(o.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:Ct(t.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:Ct(t.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:Ct(t.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:n(),maxHeightCacheSize:n(),footer:n(),header:n(),HeaderContainer:n(),FooterContainer:n(),ItemContainer:n(),ScrollContainer:n(),GroupContainer:n(),ListContainer:n(),emptyComponent:n(),scrollSeek:n()};function a(e,t,n){r(i(e,x(o.components),u(function(e){var o,r=e[0],i=e[1];return console.warn("react-virtuoso: "+n+" property is deprecated. Pass components."+t+" instead."),P({},i,((o={})[t]=r,o))})),o.components)}return g(l.adjustForPrependedItems,function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")}),g(l.maxHeightCacheSize,function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")}),g(l.HeaderContainer,function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")}),g(l.FooterContainer,function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")}),g(l.scrollSeek,function(e){var n=e.placeholder,r=F(e,["placeholder"]);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),I(o.components,P({},T(o.components),{ScrollSeekPlaceholder:n})),I(t.scrollSeekConfiguration,r)}),a(l.footer,"Footer","footer"),a(l.header,"Header","header"),a(l.ItemContainer,"Item","ItemContainer"),a(l.ListContainer,"List","ListContainer"),a(l.ScrollContainer,"Scroller","ScrollContainer"),a(l.emptyComponent,"EmptyPlaceholder","emptyComponent"),a(l.GroupContainer,"Group","GroupContainer"),P({},t,o,l)},C(pt,It)),xt=function(e){return M("div",{style:{height:e.height}})},Tt={position:vt(),zIndex:1},wt=O(function(e){var t,n,o,r,i=e.showTopList,l=void 0!==i&&i,u=At("listState"),a=At("deviation"),s=Ft("sizeRanges"),c=At("itemContent"),f=At("groupContent"),d=At("trackItemSizes"),m=(t=s,n=At("itemSize"),o=d,r=At("log"),Ke(function(e){var o=function(e,t,n,o){var r=e.length;if(0===r)return null;for(var i=[],l=0;l<r;l++){var u=e.item(l);if(u&&void 0!==u.dataset.index){var a=parseInt(u.dataset.index),s=parseFloat(u.dataset.knownSize),c=t(u,"offsetHeight");if(0===c&&o("Zero-sized element, this should not happen",{child:u},V.ERROR),c!==s){var f=i[i.length-1];0===i.length||f.size!==c||f.endIndex!==a-1?i.push({startIndex:a,endIndex:a,size:c}):i[i.length-1].endIndex++}}}return i}(e.children,n,0,r);null!==o&&t(o)},o)),h=At("EmptyPlaceholder"),p=At("ScrollSeekPlaceholder")||xt,v=At("ListComponent"),g=At("ItemComponent"),I=At("GroupComponent"),C=At("computeItemKey"),S=At("isSeeking"),x=At("groupIndices").length>0,T=At("paddingTopAddition"),w=At("scrolledToInitialItem"),y=At("firstItemIndex"),R=l?{}:{boxSizing:"border-box",paddingTop:u.offsetTop+T,paddingBottom:u.offsetBottom,marginTop:a};return!l&&0===u.items.length&&h&&w?M(h):M(v,{ref:m,style:R},(l?u.topItems:u.items).map(function(e){var t=e.originalIndex,n=C(t+y,e.data);return S?M(p,{key:n,index:e.index,height:e.size}):"group"===e.type?M(I,{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:Tt},f(e.index)):M(g,{key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex},x?c(e.index,e.groupIndex,e.data):c(e.index,e.data))}))}),yt={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Rt={width:"100%",height:"100%",position:"absolute",top:0},bt={width:"100%",position:vt(),top:0},zt=O(function(){var e=At("HeaderComponent"),t=Ft("headerHeight"),n=At("headerFooterTag"),o=Ke(function(e){return t(pe(e,"height"))});return e?M(n,{ref:o},M(e)):null}),kt=O(function(){var e=At("FooterComponent"),t=Ft("footerHeight"),n=At("headerFooterTag"),o=Ke(function(e){return t(pe(e,"height"))});return e?M(n,{ref:o},M(e)):null});function Ht(e){var t=e.usePublisher,n=e.useEmitter,o=e.useEmitterValue;return O(function(e){var r=e.style,i=e.children,l=F(e,["style","children"]),u=t("scrollTop"),a=o("ScrollerComponent"),s=qe(u,t("smoothScrollTargetReached"),a,o("scrollerRef")),c=s.scrollerRef,f=s.scrollByCallback;return n("scrollTo",s.scrollToCallback),n("scrollBy",f),M(a,P({ref:c,style:P({},yt,r),tabIndex:0},l),i)})}function Bt(e){var t=e.usePublisher,n=e.useEmitter,o=e.useEmitterValue;return O(function(e){var r=e.style,i=e.children,l=F(e,["style","children"]),u=t("windowScrollTop"),a=o("ScrollerComponent"),s=t("smoothScrollTargetReached"),c=o("totalListHeight"),f=qe(u,s,a),d=f.scrollerRef,m=f.scrollByCallback,h=f.scrollToCallback;return Ze(function(){return d.current=window,function(){d.current=null}},[d]),n("windowScrollTo",h),n("scrollBy",m),M(a,P({style:P({position:"relative"},r,0!==c?{height:c}:{})},l),i)})}var Et=function(e){var t=e.children,n=Ft("viewportHeight"),o=Ke(k(n,function(e){return pe(e,"height")}));return M("div",{style:Rt,ref:o},t)},Lt=function(e){var t=e.children,n=Ye(Ft("windowViewportRect"));return M("div",{ref:n,style:Rt},t)},Ot=function(e){var t=e.children,n=At("TopItemListComponent"),o=At("headerHeight"),r=P({},bt,{marginTop:o+"px"});return M(n||"div",{style:r},t)},Mt=e(St,{required:{},optional:{followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",scrollerRef:"scrollerRef",logLevel:"logLevel",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},O(function(e){var t=At("useWindowScroll"),n=At("topItemsIndexes").length>0,o=t?Lt:Et;return M(t?Gt:Nt,P({},e),M(o,null,M(zt,null),M(wt,null),M(kt,null)),n&&M(Ot,null,M(wt,{showTopList:!0})))})),Pt=Mt.Component,Ft=Mt.usePublisher,At=Mt.useEmitterValue,Wt=Mt.useEmitter,Nt=Ht({usePublisher:Ft,useEmitterValue:At,useEmitter:Wt}),Gt=Bt({usePublisher:Ft,useEmitterValue:At,useEmitter:Wt}),_t=t(function(){var e=o(function(e){return"Item "+e}),t=o({}),n=o("virtuoso-grid-item"),r=o("virtuoso-grid-list"),l=o(gt),a=o(R),s=function(e,n){return void 0===n&&(n=null),w(i(t,u(function(t){return t[e]}),c()),n)};return{itemContent:e,components:t,computeItemKey:l,itemClassName:n,listClassName:r,scrollerRef:a,ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}}),Vt=t(function(e){var t=e[0],o=e[1],l={item:Ct(o.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:n(),ScrollContainer:n(),ListContainer:n(),emptyComponent:n(),scrollSeek:n()};function a(e,t,n){r(i(e,x(o.components),u(function(e){var o,r=e[0],i=e[1];return console.warn("react-virtuoso: "+n+" property is deprecated. Pass components."+t+" instead."),P({},i,((o={})[t]=r,o))})),o.components)}return g(l.scrollSeek,function(e){var n=e.placeholder,r=F(e,["placeholder"]);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),I(o.components,P({},T(o.components),{ScrollSeekPlaceholder:n})),I(t.scrollSeekConfiguration,r)}),a(l.ItemContainer,"Item","ItemContainer"),a(l.ListContainer,"List","ListContainer"),a(l.ScrollContainer,"Scroller","ScrollContainer"),P({},t,o,l)},C(Ve,_t)),Dt=O(function(){var e=qt("gridState"),t=qt("listClassName"),n=qt("itemClassName"),o=qt("itemContent"),r=qt("computeItemKey"),i=qt("isSeeking"),l=qt("ItemComponent"),u=qt("ListComponent"),a=qt("ScrollSeekPlaceholder"),s=Zt("itemDimensions"),c=Ke(function(e){var t=e.firstChild;t&&s(t.getBoundingClientRect())});return M(u,{ref:c,className:t,style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom}},e.items.map(function(t){var u=r(t.index);return i?M(a,{key:u,style:{height:e.itemHeight,width:e.itemWidth}}):M(l,{className:n,"data-index":t.index,key:u},o(t.index))}))}),Ut=function(e){var t=e.children,n=Zt("viewportDimensions"),o=Ke(function(e){n(e.getBoundingClientRect())});return M("div",{style:Rt,ref:o},t)},jt=function(e){var t=e.children,n=Ye(Zt("windowViewportRect"));return M("div",{ref:n,style:Rt},t)},Kt=e(Vt,{optional:{totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},O(function(e){var t=P({},e),n=qt("useWindowScroll"),o=n?jt:Ut;return M(n?Qt:Jt,P({},t),M(o,null,M(Dt,null)))})),Yt=Kt.Component,Zt=Kt.usePublisher,qt=Kt.useEmitterValue,$t=Kt.useEmitter,Jt=Ht({usePublisher:Zt,useEmitterValue:qt,useEmitter:$t}),Qt=Bt({usePublisher:Zt,useEmitterValue:qt,useEmitter:$t}),Xt=Pt,en=Pt,tn=Yt;export{en as GroupedVirtuoso,V as LogLevel,Xt as Virtuoso,tn as VirtuosoGrid};
//# sourceMappingURL=index.m.js.map
